# Detailed Study Notes: Lecture 5.2 – Decentralized Scheduling & Mechanism Design

## 1. **Introduction to Decentralized Scheduling**
- **Decentralized Cloud**: Cloud resources are owned by multiple providers, and scheduling decisions are distributed among them.
- **Problem**: How to coordinate resource allocation across multiple providers and consumers without central control.
- **Key players**: Providers (own resources), Consumers (request resources), Brokers (mediate between them).

## 2. **Interdependency**
- **Definition**: Two or more entities depend on each other to achieve a goal.
- **Example**: Entity A needs resources from Entity B to complete a task.
- **Solution**: **Coordination** – structured communication and decision-making to resolve interdependencies.

## 3. **Coordination & Mechanism Design**
- **Mechanism Design**: Designing rules and incentives so that self-interested agents behave in a way that achieves a global goal.
- **Components of a mechanism**:
  - **Rules**: How agents interact.
  - **Communication structures**: How information is shared.
  - **Decision protocols**: How outcomes are determined.

## 4. **Incentive Compatibility (IC)**
- **Rational agents**: Act to maximize their own utility.
- **Incentive Compatible Mechanism**: Agents are incentivized to truthfully reveal their private information.
- **Why it matters**: Prevents lying, ensures fairness, and aligns individual goals with system goals.

## 5. **Social Choice Function (SCF)**
- **Goal**: Map agents’ true types (private info) to the socially optimal outcome.
- **Formally**:  
![SCF](.\Images\SCF.png)

## 6. **VCG (Vickrey-Clarke-Groves) Mechanism**
- **Purpose**: Ensures truth-telling and social efficiency.
- **Two Rules**:
  1. **Allocation Rule**: Choose outcome that maximizes total reported welfare.
![Allocation](.\Images\Allocation.png)
  2. **Payment Rule (Clarke Pivot Rule)**:
![Payment](.\Images\Payment.png)
- **Result**: **Dominant Strategy Incentive Compatible (DSIC)** – truth-telling is always optimal.

## 7. **Mapping Cloud Scheduling to Mechanism Design**
| **Mechanism Design Element** | **Cloud Scheduling Equivalent** |
|-----------------------------|-------------------------------|
| Agent ($i$)                 | Cloud tenant / task           |
| Type ($\theta_i$)           | Task requirements (CPU, memory, deadline) |
| Outcome ($x$)               | Resource allocation (server, time slot)   |
| SCF ($f$)                   | Scheduling goal (max utilization, min makespan) |
| Mechanism ($g$)             | Scheduling algorithm + pricing model      |
| Transfer ($t_i$)            | Price charged to tenant                  |
| IC                          | Prevents misreporting of requirements    |
| IR (Individual Rationality) | Ensures QoS / participation              |
| Efficiency                  | Maximizes system welfare                 |

## 8. **Preferences & Utility in Cloud Scheduling**
- **Valuation (\(v_i\))**: Non-monetary value of QoS (e.g., low latency, high reliability).
- **Utility function**:
![utility](.\Images\Utility.png)
- **Strategic behavior**: Tenants may lie about needs to get better service or lower price.
- **Designer’s goal**: Ensure u_i{Truth} > u_i{Lie}

## 9. **Economic Model & Combinatorial Auctions**
- **Schedule representation**:  
![Schedule](.\Images\sch.png)
- **Partial schedule**: Feasible allocation for one agent.
- **Combinatorial Auction (CAP)**:
  - Bidders bid on **bundles** of items (resource-time units).
  - **Valuation function**:  
![Valuation](.\Images\val.png)
  - **Winner determination**: Maximize total valuation.

## 10. **Bidding in Combinatorial Auctions**
- **Bid**: Expression of preferences for resource bundles.
- **Bidding languages**:  
  - **OR-of-XORs**, **XOR-of-ORs**, etc.
  - Trade-off between **expressiveness** and **simplicity**.

## 11. **Key Terms Recap**
- **Interdependency**: Mutual reliance between entities.
- **Coordination**: Structured interaction to resolve interdependencies.
- **Mechanism Design**: Rule-based system to align individual and social goals.
- **Incentive Compatibility**: Truth-telling is optimal.
- **VCG**: Efficient, truthful mechanism.
- **Combinatorial Auction**: Auction where bidders bid on bundles.

---

# Multiple Choice Questions (MCQs)

**1. What is the primary goal of mechanism design in decentralized scheduling?**
- A) Maximize provider profit
- B) Ensure truth-telling and achieve global efficiency
- C) Minimize communication overhead
- D) Reduce computational complexity

**2. In the VCG mechanism, the payment rule charges each agent based on:**
- A) Their reported valuation
- B) The harm they cause to others
- C) A fixed price per resource
- D) The highest bid in the auction

**3. Which of the following best describes “interdependency” in decentralized systems?**
- A) Two providers using the same hardware
- B) Entities needing shared resources to achieve goals
- C) Consumers competing for the same resource
- D) Brokers mediating between providers

**4. In cloud scheduling, what does the “type” (\(\theta_i\)) of an agent represent?**
- A) The price they are willing to pay
- B) Their private task requirements
- C) Their identity in the system
- D) The resource they own

**5. What does “Incentive Compatibility (IC)” ensure?**
- A) Agents always participate
- B) Agents reveal their true private information
- C) Agents are charged fairly
- D) Resources are allocated randomly

**6. In a combinatorial auction, what is a “bundle”?**
- A) A single resource unit
- B) A set of items bid on together
- C) The total number of bidders
- D) The auctioneer’s inventory

**7. The Clarke Pivot Rule in VCG charges an agent:**
- A) The highest bid
- B) The difference between the best possible welfare without them and the actual welfare of others
- C) A fixed percentage of their valuation
- D) The average bid of all agents

**8. Which bidding language is known for balancing expressiveness and simplicity?**
- A) XOR-of-ORs
- B) Plain text
- C) Binary only
- D) First-price sealed bid

---

# Short Answer Questions

1. **Explain the difference between “coordination” and “mechanism design” in decentralized systems.**
2. **Why is truth-telling important in cloud scheduling mechanisms? Give an example of what could go wrong if agents lie.**
3. **Describe the two main components of the VCG mechanism and how they promote efficiency and truthfulness.**
4. **What is the role of “individual rationality” in mechanism design, and why is it important for cloud providers?**
5. **How does a combinatorial auction differ from a traditional single-item auction in the context of cloud scheduling?**

---

# Case Study Questions

**Case Study 1: Multi-Provider Cloud Scheduling**

A cloud brokerage service must schedule tasks across three providers (A, B, C). Each task has private requirements (CPU, memory, deadline). Providers are self-interested and may misreport availability or capacity to maximize profit.

- **Task**: Design a mechanism that ensures:
  - Providers truthfully report capacity
  - Tasks are scheduled efficiently (minimize makespan)
  - Both providers and consumers participate willingly

**Questions:**
1. Which mechanism design principles would you apply here?
2. How would you adapt the VCG mechanism for this multi-provider setting?
3. What bidding language would you recommend for consumers to express their preferences, and why?

**Case Study 2: FPGA Resource Allocation**

A cloud provider offers FPGA resources (measured in CLBs) to tenants running machine learning tasks. Tenants have private deadlines and valuation for low-latency processing. Some may underreport needs to get cheaper access.

- **Task**: Propose a pricing and allocation model that:
  - Prevents underreporting
  - Maximizes total system welfare
  - Ensures high-value tasks get priority

**Questions:**
1. How would you model the tenant’s valuation function?
2. How would you ensure incentive compatibility?
3. How could a combinatorial auction be used to allocate FPGA time slots efficiently?